# å®‰å…¨é…ç½®è¯´æ˜

## ğŸ”’ å®‰å…¨æ‰«æé…ç½®

### 1. ä¾èµ–æ¼æ´æ‰«æ

**å·¥å…·**: npm audit
**é¢‘ç‡**: æ¯æ¬¡æ¨é€å’Œ PR
**é˜ˆå€¼**: moderate çº§åˆ«åŠä»¥ä¸Š

```bash
# æ‰‹åŠ¨è¿è¡Œ
npm audit --audit-level=moderate
```

### 2. ä»£ç å®‰å…¨æ‰«æ

**å·¥å…·**: ESLint + security æ’ä»¶
**è§„åˆ™**: å®‰å…¨ç›¸å…³è§„åˆ™
**æ–‡ä»¶**: `.eslintrc.security.js`

```bash
# æ‰‹åŠ¨è¿è¡Œ
npx eslint . --config .eslintrc.security.js
```

### 3. æ•æ„Ÿä¿¡æ¯æ‰«æ

**å·¥å…·**: TruffleHog
**æ‰«æ**: å¯†é’¥ã€ä»¤ç‰Œã€å¯†ç ç­‰
**é¢‘ç‡**: æ¯æ¬¡æ¨é€

### 4. è®¸å¯è¯æ£€æŸ¥

**å·¥å…·**: license-checker
**æ£€æŸ¥**: ä¾èµ–è®¸å¯è¯åˆè§„æ€§
**è¾“å‡º**: JSON æ ¼å¼æŠ¥å‘Š

### 5. å®¹å™¨å®‰å…¨æ‰«æ

**å·¥å…·**: Trivy
**æ‰«æ**: Dockerfile å®‰å…¨æ¼æ´
**æ¡ä»¶**: å­˜åœ¨ Dockerfile æ—¶

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

### ç¯å¢ƒå˜é‡å®‰å…¨

1. **æ•æ„Ÿä¿¡æ¯ä¸è¦æš´éœ²ç»™å®¢æˆ·ç«¯**
   ```bash
   # âŒ é”™è¯¯ - ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯
   NEXT_PUBLIC_DATABASE_PASSWORD=secret
   
   # âœ… æ­£ç¡® - ä»…æœåŠ¡ç«¯ä½¿ç”¨
   DATABASE_PASSWORD=secret
   ```

2. **ä½¿ç”¨å¼ºéšæœºå¯†é’¥**
   ```bash
   # ç”Ÿæˆ32ä½éšæœºå¯†é’¥
   node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
   ```

3. **å®šæœŸè½®æ¢å¯†é’¥**
   - ç”Ÿäº§ç¯å¢ƒå¯†é’¥åº”å®šæœŸæ›´æ¢
   - ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡

### ä»£ç å®‰å…¨

1. **è¾“å…¥éªŒè¯**
   ```typescript
   // âœ… ä½¿ç”¨éªŒè¯åº“
   import { validateSearchTerm } from '@/lib/input-validation';
   
   const result = validateSearchTerm(userInput);
   if (!result.valid) {
     throw new Error(result.error);
   }
   ```

2. **XSS é˜²æŠ¤**
   ```typescript
   // âœ… ä½¿ç”¨ React çš„è‡ªåŠ¨è½¬ä¹‰
   <div>{userContent}</div>
   
   // âŒ é¿å… dangerouslySetInnerHTML
   <div dangerouslySetInnerHTML={{__html: userContent}} />
   ```

3. **SQL æ³¨å…¥é˜²æŠ¤**
   ```typescript
   // âœ… ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
   const query = 'SELECT * FROM users WHERE id = ?';
   const result = await db.query(query, [userId]);
   ```

### æƒé™æ§åˆ¶

1. **æœ€å°æƒé™åŸåˆ™**
   ```typescript
   // âœ… æ£€æŸ¥å…·ä½“æƒé™
   if (authManager.hasPermission(Permission.REQUIREMENTS_DELETE)) {
     // æ‰§è¡Œåˆ é™¤æ“ä½œ
   }
   ```

2. **è§’è‰²åˆ†ç¦»**
   ```typescript
   // âœ… ä¸åŒè§’è‰²ä¸åŒæƒé™
   const adminPermissions = [Permission.ADMIN_FULL_ACCESS];
   const userPermissions = [Permission.REQUIREMENTS_VIEW];
   ```

## ğŸ“Š å®‰å…¨æŒ‡æ ‡

### ç›®æ ‡æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰å€¼ |
|------|--------|--------|
| ä¾èµ–æ¼æ´ | 0 ä¸ª critical | å¾…æ‰«æ |
| ä»£ç å¤æ‚åº¦ | < 10 | å¾…åˆ†æ |
| å®‰å…¨è§„åˆ™è¿è§„ | 0 ä¸ª | å¾…æ£€æŸ¥ |
| æ•æ„Ÿä¿¡æ¯æ³„éœ² | 0 ä¸ª | å¾…æ‰«æ |

### ç›‘æ§æŒ‡æ ‡

1. **ä¾èµ–å®‰å…¨**
   - å®šæœŸæ£€æŸ¥æ–°æ¼æ´
   - åŠæ—¶æ›´æ–°ä¾èµ–
   - ä½¿ç”¨å®‰å…¨ç‰ˆæœ¬

2. **ä»£ç è´¨é‡**
   - å¤æ‚åº¦æ§åˆ¶
   - å®‰å…¨è§„åˆ™éµå¾ª
   - ä»£ç å®¡æŸ¥

3. **è¿è¡Œæ—¶å®‰å…¨**
   - é”™è¯¯ç›‘æ§
   - å¼‚å¸¸æ£€æµ‹
   - è®¿é—®æ—¥å¿—

## ğŸš¨ å®‰å…¨äº‹ä»¶å“åº”

### å‘ç°æ¼æ´æ—¶

1. **ç«‹å³è¯„ä¼°å½±å“**
   - æ¼æ´ä¸¥é‡ç¨‹åº¦
   - å½±å“èŒƒå›´
   - åˆ©ç”¨éš¾åº¦

2. **å¿«é€Ÿä¿®å¤**
   - åº”ç”¨å®‰å…¨è¡¥ä¸
   - æ›´æ–°ä¾èµ–ç‰ˆæœ¬
   - ä¿®æ”¹é…ç½®

3. **é€šçŸ¥ç›¸å…³äººå‘˜**
   - å¼€å‘å›¢é˜Ÿ
   - å®‰å…¨å›¢é˜Ÿ
   - ç®¡ç†å±‚

### é¢„é˜²æªæ–½

1. **å®šæœŸå®‰å…¨æ‰«æ**
   - æ¯æ—¥è‡ªåŠ¨æ‰«æ
   - æ‰‹åŠ¨æ·±åº¦æ‰«æ
   - ç¬¬ä¸‰æ–¹å®‰å…¨å®¡è®¡

2. **å®‰å…¨åŸ¹è®­**
   - å¼€å‘äººå‘˜å®‰å…¨æ„è¯†
   - å®‰å…¨ç¼–ç è§„èŒƒ
   - æœ€ä½³å®è·µåˆ†äº«

3. **å®‰å…¨å·¥å…·é›†æˆ**
   - IDE å®‰å…¨æ’ä»¶
   - Git hooks å®‰å…¨æ£€æŸ¥
   - CI/CD å®‰å…¨é—¨ç¦

## ğŸ“‹ å®‰å…¨æ£€æŸ¥æ¸…å•

### å¼€å‘é˜¶æ®µ

- [ ] è¾“å…¥éªŒè¯å’Œæ¸…ç†
- [ ] è¾“å‡ºç¼–ç å’Œè½¬ä¹‰
- [ ] èº«ä»½è®¤è¯å’Œæˆæƒ
- [ ] ä¼šè¯ç®¡ç†
- [ ] é”™è¯¯å¤„ç†

### éƒ¨ç½²é˜¶æ®µ

- [ ] ç¯å¢ƒå˜é‡å®‰å…¨
- [ ] å¯†é’¥ç®¡ç†
- [ ] ç½‘ç»œå®‰å…¨
- [ ] å®¹å™¨å®‰å…¨
- [ ] ç›‘æ§é…ç½®

### è¿ç»´é˜¶æ®µ

- [ ] æ—¥å¿—ç›‘æ§
- [ ] å¼‚å¸¸æ£€æµ‹
- [ ] å¤‡ä»½å®‰å…¨
- [ ] è®¿é—®æ§åˆ¶
- [ ] å®‰å…¨æ›´æ–°

---

**æœ€åæ›´æ–°**: 2025-10-14
**ç»´æŠ¤è€…**: å®‰å…¨å›¢é˜Ÿ


